<html>
    <head>
        <script>
            function testApi(){
                var xhr = new XMLHttpRequest();
                var requestUrl = "https://restcountries.com/v3.1/name/deutschland";
                xhr.open("GET", requestUrl, true); 
                xhr.onload = function(){
                    console.log(xhr.responseText);
                    console.log(xhr.response);
                    console.log("JSONPARSE", JSON.parse(xhr.response))
                    // Handle data
                    document.getElementById("result").textContent=xhr.responseText;
                    //FD QUI chiamo la addOption per ogni elemento di mieidati[0].borders
                };
                xhr.send();
            }
        </script>
    </head>
    <body>
        
    <p onclick="testApi()">TEST API</p>
    <div id="result"></div>    
<select id="miaSelect">
  <option value="">aspetto il caricamento dell'api</option>
</select>
    </body>
</html>

<script>

/*   const mieiDati = [{borders: ["FRA", "CHE", "AUT", "SVN", "SMR", "VAT"]}]; */

  // Funzione per aggiungere una singola opzione
  function addOption(value) {
    const dropdown = document.getElementById('miaSelect');
    const option = document.createElement('option');
    option.value = value;
    option.textContent = textContent;
    dropdown.appendChild(option);
  }

  // Funzione principale che itera i confini e li aggiunge alla tendina
  function popolaTendinaConConfini(dati) {
    if (!dati[0] || !Array.isArray(dati[0].borders)) {
      console.error("Dati non validi");
      return;
    }

    dati[0].borders.forEach((element) => {
      addOption(element);
    });
  }

  // Chiamata iniziale
  popolaTendinaConConfini(mieiDati);
</script>




































